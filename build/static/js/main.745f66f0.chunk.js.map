{"version":3,"sources":["useFetchJobs.js","JobDetail.js","Job.js","Header.js","SearchJob.js","App.js","index.js"],"names":["ACTIONS","jobsUrl","reducer","state","action","type","jobs","payload","error","hasNextPage","JobDetail","props","job","console","log","className","alt","company","src","company_logo","Button","href","company_url","source","description","Card","Text","Body","how_to_apply","Job","timeAgo","setClick","setJob","onClick","click","height","created_at","title","location","Header","SearchJob","params","handleChange","handleSubmit","Form","onSubmit","Row","Group","Label","Control","name","value","placeholder","Check","onChange","label","id","epochs","date","timeAgoInSeconds","seconds","interval","Math","floor","epoch","getDuration","Date","suffix","App","useState","setParams","page","setPage","newJob","useReducer","dispatch","useEffect","cancelToken","axios","CancelToken","get","token","markdown","then","res","data","catch","isCancel","cancelToken2","cancel","useFetchJobs","e","p","target","preventDefault","Container","dataLength","length","pageStart","next","hasMore","loader","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.745f66f0.chunk.js","sourcesContent":["import { useReducer, useEffect } from 'react';\nimport axios from 'axios';\n\n// Action Types\nconst ACTIONS = {\n  REQUEST: 'REQUEST',\n  GET_DATA: 'GET_DATA',\n  ERROR: 'ERROR',\n  HAS_NEXT_PAGE: 'HAS_NEXT_PAGE',\n};\n\n// Api Url\nconst jobsUrl = 'https://jobs.github.com/positions.json';\n\n// Reducer with switch case\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case ACTIONS.REQUEST:\n      return { jobs: [] };\n    case ACTIONS.GET_DATA:\n      return { ...state, jobs: action.payload.jobs };\n    case ACTIONS.ERROR:\n      return {\n        ...state,\n        error: action.payload.error,\n        jobs: [], // If error, throw error message and reset job to empty array\n      };\n    case ACTIONS.HAS_NEXT_PAGE:\n      return { ...state, hasNextPage: action.payload.hasNextPage };\n    default:\n      return state;\n  }\n}\n\n// React Hook\nexport default function useFetchJobs(params, page) {\n  const [state, dispatch] = useReducer(reducer, { jobs: [] });\n\n  useEffect(() => {\n    const cancelToken = axios.CancelToken.source(); // Create cancel Token\n    dispatch({ type: ACTIONS.REQUEST });\n    axios\n      .get(jobsUrl, {\n        cancelToken: cancelToken.token, // Get individual Token\n        params: { markdown: true, page: page, ...params },\n      })\n      .then((res) => {\n        dispatch({ type: ACTIONS.GET_DATA, payload: { jobs: res.data } });\n      })\n      .catch((error) => {\n        // If cancelled, then just return instead of passing error\n        if (axios.isCancel(error)) return;\n        dispatch({ type: ACTIONS.ERROR, payload: { error: error } });\n      });\n    const cancelToken2 = axios.CancelToken.source();\n    axios\n      .get(jobsUrl, {\n        cancelToken: cancelToken2.token, // Get individual Token\n        params: { markdown: true, page: page + 1, ...params },\n      })\n      .then((res) => {\n        dispatch({\n          type: ACTIONS.HAS_NEXT_PAGE,\n          payload: { hasNextPage: res.data },\n        });\n      })\n      .catch((error) => {\n        if (axios.isCancel(error)) return;\n        dispatch({ type: ACTIONS.ERROR, payload: { error: error } });\n      });\n\n    return () => {\n      // Runs the cancel token everytime params change\n      cancelToken.cancel();\n      cancelToken2.cancel();\n    };\n  }, [params, page]); // <-- If parameter or pages change it will run useEffect again\n\n  return state;\n}\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Button, Card } from 'react-bootstrap';\n\nexport default function JobDetail(props) {\n  const { job } = props;\n  console.log(job);\n  return (\n    <div>\n      <div className='jobDetailHeader'>\n        <img\n          className='jobImgDetail'\n          alt={job.company}\n          src={job.company_logo}\n        />\n        <h3 className='jobDetailHeaderCompany'>{job.company}</h3>\n\n        <Button className='jobDetailButton'>\n          <a className='buttonText' href={job.company_url}>\n            Company Site\n          </a>\n        </Button>\n      </div>\n      <div className='jobDetailDescription'>\n        <ReactMarkdown\n          className='jobDetailDescriptionText'\n          source={job.description}\n        />\n      </div>\n      <div className='jobDetailHowToApply'>\n        <Card>\n          <Card.Text className='jobDetailHowToApplyText'>\n            How To Apply\n          </Card.Text>\n          <Card.Body className='jobDetailHowToApplyBody'>\n            {job.how_to_apply}\n          </Card.Body>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Card } from 'react-bootstrap';\nimport JobDetail from './JobDetail';\nimport { Link } from 'react-router-dom';\n// import '../public/css/job.css';\n\nexport default function Job(props) {\n  const { job, timeAgo, setClick, setJob } = props;\n\n  return (\n    <Card\n      className='jobCard'\n      onClick={() =>\n        setClick((click) => {\n          setJob(job);\n          return !click;\n        })\n      }\n    >\n      <div className='jobContainer'>\n        <div>\n          <img\n            className='jobImg'\n            height='50'\n            alt={job.company}\n            src={job.company_logo}\n          />\n          <h6 className='jobCreateAndType'>\n            {timeAgo(job.created_at)} - {job.type}\n          </h6>\n          <h4 className='jobTitle'>{job.title}</h4>\n          <h6 className='jobCompany'>{job.company}</h6>\n          <p className='jobLocation'>{job.location}</p>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","import React from 'react';\n\nexport default function Header() {\n  return (\n    <div className='headerDiv'>\n      <h1 className='headerText'>devjobs</h1>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Form, Col, Button } from 'react-bootstrap';\n\nexport default function SearchJob({ params, handleChange, handleSubmit }) {\n  return (\n    <Form className='form' onSubmit={handleSubmit}>\n      <Form.Row>\n        <Form.Group>\n          <Form.Label></Form.Label>\n          <Form.Control\n            name='description'\n            value={params.description}\n            type='text'\n            // onChange={handleChange}\n            placeholder='Filter by title, companies, expertise...'\n          />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label></Form.Label>\n          <Form.Control\n            name='location'\n            value={params.location}\n            type='text'\n            // onChange={handleChange}\n            placeholder='Filter by location...'\n          />\n        </Form.Group>\n      </Form.Row>\n      <Form.Group>\n        <Form.Check\n          onChange={handleChange}\n          value='Full Time'\n          name='type'\n          label='Full Time Only'\n          id='full-time'\n          type='checkbox'\n        />\n      </Form.Group>\n      <Button type='submit'>Search</Button>\n    </Form>\n  );\n}\n","import React, { useState } from 'react';\nimport useFetchJobs from './useFetchJobs.js';\nimport { Container } from 'react-bootstrap';\nimport JobDetail from './JobDetail';\nimport Job from './Job';\nimport Header from './Header';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport SearchJob from './SearchJob';\n\nconst epochs = [\n  ['year', 31536000],\n  ['month', 2592000],\n  ['day', 86400],\n  ['hour', 3600],\n  ['minute', 60],\n  ['second', 1],\n];\n\nconst getDuration = (timeAgoInSeconds) => {\n  for (let [name, seconds] of epochs) {\n    const interval = Math.floor(timeAgoInSeconds / seconds);\n    if (interval >= 1) {\n      return {\n        interval: interval,\n        epoch: name,\n      };\n    }\n  }\n};\n\nconst timeAgo = (date) => {\n  const timeAgoInSeconds = Math.floor((new Date() - new Date(date)) / 1000);\n  const { interval, epoch } = getDuration(timeAgoInSeconds);\n  const suffix = interval === 1 ? '' : 's';\n  return `${interval} ${epoch}${suffix} ago`;\n};\n\nfunction App() {\n  // Destructure jobs from the api\n  const [params, setParams] = useState({});\n  const [page, setPage] = useState(1);\n  const [newJob, setJob] = useState({});\n  const [click, setClick] = useState(false);\n  const { jobs, error, hasNextPage } = useFetchJobs(params, page);\n\n  function loadMore() {\n    setPage(page + 1);\n  }\n\n  function handleChange(e) {\n    setPage(1);\n    setParams((p) => {\n      return { ...p, [e.target.name]: e.target.value };\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setParams({\n      location: e.target.location.value,\n      description: e.target.description.value,\n    });\n  }\n  console.log(params);\n\n  return click === false ? (\n    <>\n      <Header />\n      <SearchJob\n        params={params}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n      />\n      <Container>\n        <div>\n          {error ? (\n            <h1> Error, please refresh the page</h1>\n          ) : click === false ? (\n            <InfiniteScroll\n              dataLength={jobs.length}\n              pageStart={page}\n              next={loadMore}\n              hasMore={true}\n              loader={<h4>Loading...</h4>}\n            >\n              <div className='jobsContainer'>\n                {jobs.map((job) => {\n                  return (\n                    <Job\n                      key={job.id}\n                      job={job}\n                      setClick={setClick}\n                      setJob={setJob}\n                      timeAgo={timeAgo}\n                    />\n                  );\n                })}\n              </div>\n            </InfiniteScroll>\n          ) : (\n            <JobDetail job={newJob} timeAgo={timeAgo} setClick={setClick} />\n          )}\n        </div>\n      </Container>\n    </>\n  ) : (\n    <>\n      <Header />\n      <div>\n        <JobDetail timeAgo={timeAgo} job={newJob} />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}